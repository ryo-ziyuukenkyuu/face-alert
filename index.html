<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Face Alert</title>

<script src="https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/face_mesh.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js"></script>

<style>
  body {
    font-family: sans-serif;
    background: #111;
    color: #fff;
    text-align: center;
  }

  video {
    width: 100%;
    max-width: 420px;
    transform: scaleX(-1);
  }

  .panel {
    margin-top: 10px;
    padding: 10px;
    background: #222;
    border-radius: 8px;
  }

  .alert-panel {
    background: #300;
    color: #ff8080;
    font-weight: bold;
  }

  button {
    padding: 10px 20px;
    font-size: 18px;
    border-radius: 8px;
    border: none;
    font-weight: bold;
    margin-top: 5px;
  }

  button.start {
    background: #2ecc71;
    color: #000;
  }

  button.stop {
    background: #e74c3c;
    color: #000;
  }

  label {
    display: block;
    margin-top: 10px;
  }
</style>
</head>
<body>

<!-- 1. é¡Œå -->
<h2>Face Alert 5.0.0</h2>

<!-- 2. ã‚«ãƒ¡ãƒ©ç”»é¢ -->
<video id="video" autoplay muted playsinline></video>

<!-- 3. é–‹å§‹/åœæ­¢ãƒœã‚¿ãƒ³ -->
<div>
  <button id="toggleBtn" class="start">â–¶ é–‹å§‹</button>
  <div id="statusText">ğŸ”´ åœæ­¢ä¸­</div>
  <!-- è¿½åŠ : å¤–ã‚«ãƒ¡ãƒ©åˆ‡æ›¿ãƒœã‚¿ãƒ³ -->
  <button id="switchCamBtn">ğŸ“· ã‚«ãƒ¡ãƒ©åˆ‡æ›¿</button>
</div>

<!-- 4. ç•°å¸¸è¡¨ç¤º -->
<div class="alert-panel">
  <div id="alertReason" class="safe">ç•°å¸¸ãªã—</div>
</div>

<hr>

<!-- 6. ç¾åœ¨å€¤ -->
<div id="currentValues">
  <div>Yawï¼š<span id="yawValue">0</span>Â°</div>
  <div>Pitchï¼š<span id="pitchValue">0</span>Â°</div>
  <div>é¼»â€é¡è·é›¢æ¯”ï¼š<span id="noseValue">1.00</span></div>
  <div>é¡”é¢ç©æ¯”ï¼š<span id="areaValue">1.00</span></div>
  <div>ç›®ã®å¯è¦–ç‡ï¼š<span id="eyeValue">1.00</span></div>
</div>

<hr>

<!-- 8. è¨­å®šå€¤ -->
<div id="settingsValues">
  <label>Yawè¨±å®¹è§’åº¦
    <input type="range" id="yawSlider" min="30" max="120" step="5" value="80">
    <span id="yawLimit">80</span>Â°
  </label>

  <label>Pitchè¨±å®¹è§’åº¦
    <input type="range" id="pitchSlider" min="5" max="60" step="5" value="25">
    <span id="pitchLimit">25</span>
  </label>

  <hr>

  <label>å§¿å‹¢ç•°å¸¸ ç¶™ç¶šæ™‚é–“ï¼ˆæ¨å¥¨0ã€œ1ç§’ï¼‰
    <input type="range" id="timeSlider" min="0" max="1" step="0.1" value="0.8">
    <span id="timeLimit">0.8</span> ç§’
  </label>

  <label>é¡”æœªæ¤œå‡º ç¶™ç¶šæ™‚é–“ï¼ˆæ¨å¥¨2ã€œ5ç§’ï¼‰
    <input type="range" id="faceMissingSlider" min="1" max="5" step="0.5" value="3">
    <span id="faceMissingLimit">3.0</span> ç§’
  </label>

  <hr>

  <label>é¼»â€é¡è·é›¢æ¯”
    <input type="range" id="noseSlider" min="0.3" max="0.9" step="0.05" value="0.55">
    <span id="noseLimit">0.55</span>
  </label>

  <label>é¡”é¢ç©æ¯”
    <input type="range" id="areaSlider" min="0.3" max="0.9" step="0.05" value="0.6">
    <span id="areaLimit">0.60</span>
  </label>

  <label>ç›®ã®å¯è¦–ç‡
    <input type="range" id="eyeSlider" min="0.2" max="0.9" step="0.05" value="0.4">
    <span id="eyeLimit">0.40</span>
  </label>
</div>

<!-- 9. 0ç‚¹ã‚­ãƒ£ãƒªãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ -->
<div>
  <button id="calibBtn">ğŸ¯ 0ç‚¹ã‚­ãƒ£ãƒªãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</button>
</div>

<!-- 10. ã‚¢ãƒ©ãƒ¼ãƒ éŸ³ -->
<audio id="softAlarm">
  <source src="https://actions.google.com/sounds/v1/alarms/beep_short.ogg">
</audio>

<audio id="hardAlarm">
  <source src="https://actions.google.com/sounds/v1/alarms/beep_short.ogg">
</audio>

<!-- 11. ã‚¹ã‚¯ãƒªãƒ—ãƒˆ -->
<script src="script.js"></script>
</body>
</html>
